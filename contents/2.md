### XSS

- XSS 是 Cross Site Scripting 跨站脚本攻击的意思，X是英文Cross的简称
- 什么叫做跨站，就是非自己网站，如果本网站运行了来自别的网站的东西就叫做XSS
- 举个例子，如下是前端页面代码
    ```html
    <!-- pug模板引擎语法 -->
    if from
        span -- 欢迎来自!{from}的朋友
    ```
- 下面是后端逻辑代码
    ```js
    // from 来源于get参数
    ctx.render('index', {posts, comments, from:ctx.query.from || ''});
    ```
- 现在，如果我们在页面url上加上如下代码 `?from=<script>alert(1)</script>`
- 可以看到页面弹出1，这就是一段XSS攻击代码，为什么是跨站攻击呢？我们可以做如下变通
    * `?from=<script src='其他网站的脚本.js'></script>`
- 这种跨站脚本可以执行任何形式的攻击，其攻击原理是：程序+数据=结果
- 当我们的数据中包含一部分程序的时候，原来我们程序的逻辑就会被改变了
- 页面中的脚本可以干什么，XSS的脚本就可以看什么，比如
    * 获取页面数据
    * 获取Cookie
    * 劫持前端逻辑
    * 发送请求
    * 偷取网站任意数据资料，密码，登录态
    * 欺骗用户
    * ...
- 可见XSS是一种非常危险的前端攻击手段
- 常见的XSS攻击案例
    * 站酷的搜索框
    * QQ空间的富文本编辑器，script脚本侧漏
    * 电商表单提交脚本，在后台页面运行，获取后台地址和登录态
